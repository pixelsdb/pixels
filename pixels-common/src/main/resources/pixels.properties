# pixels configurations
# pixels.var.dir is where the lock files created.
pixels.var.dir=/home/pixels/opt/pixels/var/
metric.bytesms.interval=51200
metric.reader.json.dir=/dev/shm/
metric.node.text.dir=/home/pixels/opt/node_exporter/text/
metric.reader.collect.prob=0.1
pixels.warehouse.path=hdfs://node01:9000/
# the scheme of the storage systems that are enabled, e.g., hdfs,file,s3.
enabled.storage.schemes=s3,file

# dbconfig
metadata.db.driver=com.mysql.jdbc.Driver
metadata.db.user=pixels
metadata.db.password=pixels27
metadata.db.url=jdbc:mysql://node01:3306/pixels_metadata?useUnicode=true&characterEncoding=UTF-8&zeroDateTimeBehavior=convertToNull

# the dir containing core-site.xml and hdfs-site.xml
hdfs.config.dir=/opt/hadoop-2.7.3/etc/hadoop/

# metadada server
metadata.server.port=18888
metadata.server.host=node01

# transaction server
trans.server.port=18889
trans.server.host=node01

# metrics server
metrics.server.enabled=false

# pixels-load
pixel.stride=10000
# 64M, 256M
row.group.size=256
block.size=2048
block.replication=1
block.padding=true
encoding=true
compression.block.size=1

# pixels reader
# row batch size for pixels record reader, default value is 10000
row.batch.size=10000

# Presto configuration (pixels)
presto.pixels.jdbc.url=jdbc:presto://localhost:8080/pixels/pixels
presto.orc.jdbc.url=jdbc:presto://localhost:8080/hive/default
presto.user=pixels
presto.password=null
presto.ssl=false
presto.query.url=http://localhost:8080/v1/query
record.cursor.enabled=false

# etcd configuration
# etcd.hosts=presto00,presto01,presto02,presto03,presto04
etcd.hosts=node01
etcd.port=2379

# pixels presto
# split size will be set to this fixed value if it is positive
fixed.split.size=-1
# true to enable just-in-time splitting in ordered path.
multi.split.for.ordered=true
# which scheduler to use for read requests.
# valid values: noop, sortmerge, ratelimited
read.request.scheduler=sortmerge
read.request.merge.gap=2097152
# rate limits only work for s3+ratelimited.
read.request.rate.limit.rps=6000
read.request.rate.limit.mbps=800
read.request.enable.retry=true
read.request.max.retry.num=3
# the interval in milliseconds of retry queue checks.
read.request.retry.interval.ms=1000
projection.read.enabled=false
s3.enable.async=true
s3.use.async.client=true
s3.connection.timeout.sec=60
s3.connection.acquisition.timeout.sec=60
s3.client.service.threads=40
s3.max.request.concurrency=1000
s3.enable.request.diversion=false
# the percentile of concurrency for <1MB, 1-10MB, and >=10MB requests
s3.request.concurrency.assign=80:15:5
s3.max.pending.requests=100000

# the rate of free memory in jvm.
pixels.gc.threshold=0.3

# pixels cache
cache.location=/mnt/ramfs/pixels.cache
cache.size=102400000
index.location=/mnt/ramfs/pixels.index
index.size=102400000
cache.storage.scheme=hdfs
cache.schema=pixels
cache.table=test_105
# lease ttl must be larger than heartbeat period
lease.ttl.seconds=20
# heartbeat period must be larger than 0
heartbeat.period.seconds=10
# set to false if storage.scheme is S3
enable.absolute.balancer=false
cache.enabled=false
cache.read.direct=false
